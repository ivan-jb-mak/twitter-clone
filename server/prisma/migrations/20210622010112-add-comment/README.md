# Migration `20210622010112-add-comment`

This migration has been generated by ivan-jb-mak at 6/21/2021, 9:01:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Comment" (
"id" SERIAL,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"content" text   ,
"tweetId" integer   ,
"userId" integer   ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Comment" ADD FOREIGN KEY("tweetId")REFERENCES "public"."Tweet"("id") ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE "public"."Comment" ADD FOREIGN KEY("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210621235827-add-likes..20210622010112-add-comment
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Tweet {
   id        Int          @id @default(autoincrement())
@@ -13,8 +13,9 @@
   content   String?
   likes     LikedTweet[]
   author    User?        @relation(fields: [authorId], references: [id])
   authorId  Int?
+  comments  Comment[]
 }
 model User {
   id         Int          @id @default(autoincrement())
@@ -23,8 +24,9 @@
   name       String?
   Tweet      Tweet[]
   Profile    Profile?
   likedTweet LikedTweet[]
+  comments   Comment[]
 }
 model LikedTweet {
   id      Int      @id @default(autoincrement())
@@ -43,5 +45,15 @@
   website   String?
   avatar    String?
   userId    Int?     @unique
   User      User?    @relation(fields: [userId], references: [id])
-}
+}
+
+model Comment {
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  content   String?
+  Tweet     Tweet?   @relation(fields: [tweetId], references: [id])
+  tweetId   Int?
+  User      User?    @relation(fields: [userId], references: [id])
+  userId    Int?
+}
```


